{"version":3,"file":"js/publication.5489fb0dc6902048e604.js","mappings":"MA+BA,SAASA,IACL,MAAMC,EAAgBC,EAAE,oBAAoBC,MACtCC,EAAeF,EAAE,qBAAqBC,MACtCE,EAAOH,EAAE,qBAGf,GAAsB,QAAlBE,EACA,GAAuB,QAAnBH,EACA,IAAK,IAAIK,EAAM,EAAGA,EAAMD,EAAKE,OAAQD,IACjCD,EAAKC,GAAKE,MAAMC,QAAU,aAG9B,IAAK,IAAIH,EAAM,EAAGA,EAAMD,EAAKE,OAAQD,KAEQ,IADzBD,EAAKC,GAAKI,aAAa,gBAC3BC,QAAQV,GAChBI,EAAKC,GAAKE,MAAMC,QAAU,OAE1BJ,EAAKC,GAAKE,MAAMC,QAAU,aAKtC,GAAuB,QAAnBR,EACA,IAAK,IAAIK,EAAM,EAAGA,EAAMD,EAAKE,OAAQD,KAEI,IADxBD,EAAKC,GAAKI,aAAa,iBAC3BC,QAAQP,GACbC,EAAKC,GAAKE,MAAMC,QAAU,OAE1BJ,EAAKC,GAAKE,MAAMC,QAAU,aAIlC,IAAK,IAAIH,EAAM,EAAGA,EAAMD,EAAKE,OAAQD,IAAO,CACxC,MAAMM,EAAOP,EAAKC,GAAKI,aAAa,iBAC9BG,EAAUR,EAAKC,GAAKI,aAAa,iBAEF,IAAjCE,EAAKD,QAAQP,KAA8D,IAArCS,EAAQF,QAAQV,GACtDI,EAAKC,GAAKE,MAAMC,QAAU,OAE1BJ,EAAKC,GAAKE,MAAMC,QAAU,SAQ9C,SAASK,IACL,IAAIC,EAAU,EACd,MAAMC,EAAQd,EAAE,uBAChB,IAAI,IAAII,EAAM,EAAGA,EAAMU,EAAMT,OAAQD,IAAO,CACxCW,YAAcD,EAAMV,GAAKY,iBAAiB,qBAC1CC,IAAM,EACN,IAAI,IAAIC,EAAO,EAAGA,EAAOH,YAAYV,OAAQa,IAAQ,CACjD,IACIC,EADOJ,YAAYG,GACJZ,MAAMC,QACzBU,KAAmB,SAAZE,EAAoB,EAAI,EAEvB,IAARF,IACAH,EAAMV,GAAKE,MAAMC,QAAU,QAE3BO,EAAMV,GAAKgB,aAAa,QAASP,EAAU,GAAM,EAAE,kCAAoC,2BACvFC,EAAMV,GAAKE,MAAMC,QAAU,QAC3BM,GAAW,IAKvB,SAASQ,IACL,IAAIC,EAAMtB,EAAE,WACRsB,EAAI,GAAGC,UAAYvB,EAAEwB,QAAQC,UAC7BH,EAAI,GAAGhB,MAAMoB,SAAW,QACxBJ,EAAI,GAAGhB,MAAMqB,OAAS,IACtBL,EAAI,GAAGhB,MAAMsB,MAAQ,QAErBN,EAAI,GAAGhB,MAAMoB,SAAW,UAE5BG,QAAQC,IAAI9B,EAAEwB,QAAQC,SAAUH,EAAI,GAAGC,WA5G3CC,OAAOO,6BAA+B,SAASC,GAC3C,MAAMC,EAAKC,SAASC,eAAeH,GAC7BI,EAASH,EAAGzB,aAAa,UAC/B,GAAI4B,GAAqB,SAAXA,EACVH,EAAG3B,MAAM,cAAgB,IACzB2B,EAAGb,aAAa,SAAU,aACvB,CACH,MAAMiB,EAAMJ,EAAGK,cAAc,OAC7BL,EAAG3B,MAAM,cAAgB+B,EAAIE,wBAAwBd,OAAS,KAC9DQ,EAAGb,aAAa,SAAU,UAIlCpB,EAAE,oBAAoBwC,QAAO,WACfxC,EAAE,WACR,GAAGM,MAAMoB,SAAW,SAExB5B,IACAc,IACAS,OAGJrB,EAAE,qBAAqBwC,QAAO,WAChBxC,EAAE,WACR,GAAGM,MAAMoB,SAAW,SAExB5B,IACAc,IACAS,OAmFJrB,GAAE,YAOF,WAiCI,MAAMyC,EAlBN,WACI,MAAMC,EAASR,SAASS,uBAAuB,iBACzCC,EAAMF,EAAOrC,OACnB,IAAIwC,EAAI,EACR,OAAO,WAGH,IAAK,IAAIC,EAAID,EAAGC,EAAIF,EAAKE,IAEqB,oBAAlCJ,EAAOI,GAAGtC,aAAa,SACvBkC,EAAOI,GAAGC,IAAML,EAAOI,GAAGtC,aAAa,aAE3CqC,GAAQ,GAMLG,GACnBP,IACAjB,OAAOyB,iBAAiB,SAlCxB,SAAkBC,EAAMC,EAAOC,GAC3B,IAAIC,EAAU,KAAMC,EAAY,IAAIC,KACpC,OAAO,WACH,MAAMC,EAAU,IAAID,KACpBE,aAAaJ,GACTG,EAAUF,GAAaF,GACvBF,IACAI,EAAYE,GAEZH,EAAUK,WAAWR,EAAMC,IAyBLQ,CAASlB,EAAY,IAAK,MAAO,GAtCnEmB,O","sources":["webpack://dbg-homepage/./src/pages/publication/entry.js"],"sourcesContent":["window.toggleAbstractDisplayPubPage = function(id) {\r\n    const el = document.getElementById(id);\r\n    const unfold = el.getAttribute('unfold');\r\n    if (unfold && unfold === 'true') {\r\n        el.style['max-height'] = '0';\r\n        el.setAttribute('unfold', 'false');\r\n    } else {\r\n        const div = el.querySelector('div');\r\n        el.style['max-height'] = div.getBoundingClientRect().height + 'px';\r\n        el.setAttribute('unfold', 'true');\r\n    }\r\n}\r\n\r\n$(\"#authorsSelector\").change(function(){\r\n    let obt = $(\".footer\")\r\n    obt[0].style.position = \"static\"\r\n\r\n    updateItems()\r\n    updateBlock()\r\n    updateFooter()\r\n});\r\n\r\n$(\"#categorySelector\").change(function(){\r\n    let obt = $(\".footer\")\r\n    obt[0].style.position = \"static\"\r\n\r\n    updateItems()\r\n    updateBlock()\r\n    updateFooter()\r\n});\r\n\r\nfunction updateItems(){\r\n    const selectedAuthor= $(\"#authorsSelector\").val();\r\n    const selectedLevel= $(\"#categorySelector\").val();\r\n    const opts = $(\".publication-item\")\r\n\r\n\r\n    if (selectedLevel === \"all\"){\r\n        if (selectedAuthor === \"all\") {\r\n            for (let idx = 0; idx < opts.length; idx++) {\r\n                opts[idx].style.display = \"block\"\r\n            }\r\n        }else{\r\n            for (let idx = 0; idx < opts.length; idx++) {\r\n                const authors = opts[idx].getAttribute(\"data-authors\")\r\n                if (authors.indexOf(selectedAuthor) === -1) {\r\n                    opts[idx].style.display = \"None\"\r\n                } else {\r\n                    opts[idx].style.display = \"block\"\r\n                }\r\n            }\r\n        }\r\n    }else {\r\n        if (selectedAuthor === \"all\") {\r\n            for (let idx = 0; idx < opts.length; idx++) {\r\n                const rank = opts[idx].getAttribute(\"data-category\")\r\n                if (rank.indexOf(selectedLevel) === -1) {\r\n                    opts[idx].style.display = \"None\"\r\n                } else {\r\n                    opts[idx].style.display = \"block\"\r\n                }\r\n            }\r\n        }else{\r\n            for (let idx = 0; idx < opts.length; idx++) {\r\n                const rank = opts[idx].getAttribute(\"data-category\")\r\n                const authors = opts[idx].getAttribute(\"data-authors\")\r\n\r\n                if (rank.indexOf(selectedLevel) === -1 || authors.indexOf(selectedAuthor) === -1) {\r\n                    opts[idx].style.display = \"None\"\r\n                } else {\r\n                    opts[idx].style.display = \"block\"\r\n                }\r\n            }\r\n        }\r\n\r\n    }\r\n}\r\n\r\nfunction updateBlock(){\r\n    let yearIdx = 0\r\n    const years = $(\".annual-publication\")\r\n    for(let idx = 0; idx < years.length; idx ++){\r\n        subYearsPub = years[idx].querySelectorAll('.publication-item')\r\n        num = 0\r\n        for(let idx2 = 0; idx2 < subYearsPub.length; idx2 ++){\r\n            let item = subYearsPub[idx2]\r\n            let disAttr = item.style.display\r\n            num += disAttr === \"none\"? 0 : 1\r\n        }\r\n        if (num === 0){\r\n            years[idx].style.display = \"none\"\r\n        }else{\r\n            years[idx].setAttribute(\"class\", yearIdx % 2 === 1?\"py-5 bg-gray annual-publication\" : \"py-5 annual-publication\" )\r\n            years[idx].style.display = \"block\"\r\n            yearIdx += 1\r\n        }\r\n    }\r\n}\r\n\r\nfunction updateFooter(){\r\n    let obt = $(\".footer\")\r\n    if (obt[0].offsetTop < $(window).height()){\r\n        obt[0].style.position = \"fixed\"\r\n        obt[0].style.bottom = \"0\"\r\n        obt[0].style.width = \"100%\"\r\n    }else{\r\n        obt[0].style.position = \"statics\"\r\n    }\r\n    console.log($(window).height(), obt[0].offsetTop)\r\n}\r\n\r\n$(function () {\r\n    /* =========================================\r\n     *  Member img lazy load\r\n     *  =======================================*/\r\n    imgLazyLoad();\r\n});\r\n\r\nfunction imgLazyLoad() {\r\n    function throttle(func, delay, atLeast) {\r\n        let timeout = null, startTime = new Date()\r\n        return function () {\r\n            const curTime = new Date()\r\n            clearTimeout(timeout);\r\n            if (curTime - startTime >= atLeast) {\r\n                func()\r\n                startTime = curTime\r\n            } else {\r\n                timeout = setTimeout(func, delay)\r\n            }\r\n        }\r\n    }\r\n\r\n    function lazyLoad() {\r\n        const images = document.getElementsByClassName('lazy-load-img')\r\n        const len = images.length;\r\n        let n = 0;\r\n        return function () {\r\n            // const seeHeight = document.documentElement.clientHeight;\r\n            // const scrollTop = document.documentElement.scrollTop || document.body.scrollTop;\r\n            for (let i = n; i < len; i++) {\r\n                // if (images[i].getBoundingClientRect().y < seeHeight + scrollTop) {\r\n                    if (images[i].getAttribute('src') === 'img/loading.gif') {\r\n                        images[i].src = images[i].getAttribute('data-src')\r\n                    }\r\n                    n = n + 1\r\n                // }\r\n            }\r\n        }\r\n    }\r\n\r\n    const loadImages = lazyLoad();\r\n    loadImages();\r\n    window.addEventListener('scroll', throttle(loadImages, 500, 1000), false);\r\n}\r\n"],"names":["updateItems","selectedAuthor","$","val","selectedLevel","opts","idx","length","style","display","getAttribute","indexOf","rank","authors","updateBlock","yearIdx","years","subYearsPub","querySelectorAll","num","idx2","disAttr","setAttribute","updateFooter","obt","offsetTop","window","height","position","bottom","width","console","log","toggleAbstractDisplayPubPage","id","el","document","getElementById","unfold","div","querySelector","getBoundingClientRect","change","loadImages","images","getElementsByClassName","len","n","i","src","lazyLoad","addEventListener","func","delay","atLeast","timeout","startTime","Date","curTime","clearTimeout","setTimeout","throttle","imgLazyLoad"],"sourceRoot":""}